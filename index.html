<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>提取文字</title>
</head>

<body>
    <script>
        async function extractAndCopy() {
            const url = "http://api.v6x.wht.dgwht.top/text/3de88d10d01929be/c99d7411ccc29bc1";
            try {
                const response = await fetch(url);
                if (response.ok) {
                    const text = await response.text();
                    const pattern = /①(.*?)①/;
                    const match = text.match(pattern);
                    if (match && match.length > 1) {
                        const contentToCopy = match[1];
                        // 这里只是简单地将内容显示在控制台，可以根据需求进行处理，比如填充到某个元素中
                        console.log(contentToCopy);
                        // 如果要真正实现复制功能，可以使用Clipboard API（在支持的浏览器中）
                        // navigator.clipboard.writeText(contentToCopy).then(() => {
                        //     console.log('已复制到剪贴板');
                        // }).catch((err) => {
                        //     console.error('复制失败: ', err);
                        // });
                    } else {
                        console.log('未找到①①之间的文字');
                    }
                } else {
                    console.log('访问网页失败，状态码: ', response.status);
                }
            } catch (error) {
                console.log('请求出错: ', error);
            }
        }
        extractAndCopy();
    </script>
</body>

</html>
